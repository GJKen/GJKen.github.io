!function(t,n){t.userSettings=function(){function t(){var t=n.platformUtils;for(var e in this.settings={DISABLE_DETECT_FILTERS:"detect-filters-disabled",DISABLE_SHOW_PAGE_STATS:"disable-show-page-statistic",DISABLE_SHOW_YICLEAR_PROMO_INFO:"show-info-about-yiclear-disabled",DISABLE_FILTERING:"yiclear-disabled",DISABLE_COLLECT_HITS:"hits-count-disabled",DISABLE_SHOW_CONTEXT_MENU:"context-menu-disabled",USE_OPTIMIZED_FILTERS:"use-optimized-filters",DEFAULT_WHITE_LIST_MODE:"default-whitelist-mode",DISABLE_HIDE_ELEMENT:"hide-element",DISABLE_AUTOUPDATE:"auto-update",DISABLE_PROXY:"proxy-disabled",DISABLE_SHOW_ICON_BLOCK:"show-tab-icon-block",DISABLE_SHOW_YOUKU_DANMU:"show-youku-danmu",DISABLE_DEVELOPER:"disable-developer",DISABLE_UPDATE_FIRSTRUN:"disable-update-filter-firstrun"},this.defaultProperties=Object.create(null),this.settings)this.defaultProperties[this.settings[e]]=!1;this.defaultProperties[this.settings.DISABLE_SHOW_YICLEAR_PROMO_INFO]=!t.isWindowsOs()&&!t.isMacOs(),this.defaultProperties[this.settings.DISABLE_COLLECT_HITS]=!0,this.defaultProperties[this.settings.DEFAULT_WHITE_LIST_MODE]=!0,this.defaultProperties[this.settings.USE_OPTIMIZED_FILTERS]=t.isContentBlockerEnabled(),this.defaultProperties[this.settings.DISABLE_HIDE_ELEMENT]=!1,this.defaultProperties[this.settings.DISABLE_AUTOUPDATE]=!1,this.defaultProperties[this.settings.DISABLE_SHOW_ICON_BLOCK]=!0,this.defaultProperties[this.settings.DISABLE_DEVELOPER]=!1,this.defaultProperties[this.settings.DISABLE_SHOW_YOUKU_DANMU]=!0,this.defaultProperties[this.settings.DISABLE_PROXY]=!0,this.defaultProperties[this.settings.DISABLE_UPDATE_FIRSTRUN]=!1,this.properties=Object.create(null)}return t.prototype.getConfigs=function(){var t=n.base64.utf16to8,e=n.LocalStorage,s=JSON.stringify(e.storage);return n.base64.base64encode(t(s))},t.prototype.setConfigs=function(t){var e=n.base64.utf8to16,s=n.LocalStorage,i=JSON.parse(e(n.base64.base64decode(t)));for(var r in i)if(i.hasOwnProperty(r)){var o=i[r];s.setItem(r,o)}n.restart()},t.prototype.getProperty=function(e){var t=n.LocalStorage,s=n.Log;if(e in this.properties)return this.properties[e];var i=null;if(e in t.storage)try{i=JSON.parse(t.getItem(e))}catch(t){s.error("Error get property {0}, cause: {1}",e,t)}else e in this.defaultProperties&&(i=this.defaultProperties[e]);return this.properties[e]=i},t.prototype.setProperty=function(t,e){var s=n.LocalStorage,i=n.EventNotifier,r=n.EventNotifierTypes;s.setItem(t,e),this.properties[t]=e,i.notifyListeners(r.CHANGE_USER_SETTINGS,t,e)},t.prototype.isFilteringDisabled=function(){return this.getProperty(this.settings.DISABLE_FILTERING)},t.prototype.collectHitsCount=function(){return!this.getProperty(this.settings.DISABLE_COLLECT_HITS)},t.prototype.isDefaultWhiteListMode=function(){return this.getProperty(this.settings.DEFAULT_WHITE_LIST_MODE)},t.prototype.showPageStatistic=function(){return!this.getProperty(this.settings.DISABLE_SHOW_PAGE_STATS)},t.prototype.isUseOptimizedFiltersEnabled=function(){return this.getProperty(this.settings.USE_OPTIMIZED_FILTERS)},t.prototype.showContextMenu=function(){return!this.getProperty(this.settings.DISABLE_SHOW_CONTEXT_MENU)},t.prototype.disableElement=function(){return!this.getProperty(this.settings.DISABLE_HIDE_ELEMENT)},t.prototype.autoUpdate=function(){return!this.getProperty(this.settings.DISABLE_AUTOUPDATE)},t.prototype.showtabIconBlock=function(){return!this.getProperty(this.settings.DISABLE_SHOW_ICON_BLOCK)},t.prototype.Developer=function(){return!this.getProperty(this.settings.DISABLE_DEVELOPER)},t.prototype.YoukuDanmu=function(){return!this.getProperty(this.settings.DISABLE_SHOW_YOUKU_DANMU)},t.prototype.Proxy=function(){return!this.getProperty(this.settings.DISABLE_PROXY)},t.prototype.UpdateFirstRun=function(){return!this.getProperty(this.settings.DISABLE_UPDATE_FIRSTRUN)},t.prototype.getAllSettings=function(){var t={names:Object.create(null),values:Object.create(null)};for(var e in this.settings)if(this.settings.hasOwnProperty(e)){var s=this.settings[e];t.names[e]=s,t.values[s]=this.getProperty(s)}return t},new t}()}(yiclearAPI,vAPI);