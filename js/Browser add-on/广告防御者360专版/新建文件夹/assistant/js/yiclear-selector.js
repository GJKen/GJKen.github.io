var YiclearSelectorLib=function(e,i){var n,l,t,u,h,f,m,a="yiclear-placeholder",s=null,o=null,r=null,d="sg_suggested",c="sg_selected",v="sg_rejected",g="sg_ignore",p=[],C=[],y=!0,b=null,E="iPad"===navigator.platform||"iPhone"===navigator.platform||"Android"===navigator.platform,L=0,N=function(e){i("."+e).removeClass(e)},w=function(e){var t=i(e);t.hasClass(c)?(t.removeClass(c),p.splice(i.inArray(e,p),1)):t.hasClass(v)?(t.removeClass(v),C.splice(i.inArray(e,C),1)):t.hasClass(d)?(t.addClass(v),C.push(e)):(0<p.length&&(N(c),p=[]),p.push(e));var n=r.predictCss(p,C.concat(o));return n},_=function(e){return e+"px"},k=(t="sg_border",m=f=h=u=null,(l=k||{}).init=function(){if(!u){var e=_(5);u=i("<div/>").addClass(t).css("height",e).hide().on("click",x),m=i("<div/>").addClass(t).addClass("sg_bottom_border").css("height",_(11)).hide().on("click",x),h=i("<div/>").addClass(t).css("width",e).hide().on("click",x),f=i("<div/>").addClass(t).css("width",e).hide().on("click",x),document.body.appendChild(u.get(0)),document.body.appendChild(m.get(0)),document.body.appendChild(h.get(0)),document.body.appendChild(f.get(0))}},l.finalize=function(){!function(){if(u&&u.get(0)){var e=u.get(0).parentNode;e&&(e.removeChild(u.get(0)),e.removeChild(m.get(0)),e.removeChild(h.get(0)),e.removeChild(f.get(0)))}u=m=f=h=null}()},l.add=function(e){if(l.remove(),e){var t,n,o,r,i=(t=e,n=document.documentElement.getBoundingClientRect(),{top:(o=t.getBoundingClientRect()).top-n.top,left:o.left-n.left,outerWidth:t.offsetWidth,outerHeight:t.offsetHeight}),a=i.top,s=i.left,d=i.outerWidth,c=i.outerHeight;null!=u&&(u.css("width",_(d+4+10)).css("top",_(a-5-2)).css("left",_(s-2-5)),m.css("width",_(d+4+5)).css("top",_(a+c+2)).css("left",_(s-2-5)),h.css("height",_(c+4)).css("top",_(a-2)).css("left",_(s-2-5)),f.css("height",_(c+4)).css("top",_(a-2)).css("left",_(s+d+2)),m.get(0).textContent=(r=e).parentNode?r.parentNode.tagName.toLowerCase()+" "+r.tagName.toLowerCase():r.tagName.toLowerCase(),f.get(0).target_elem=h.get(0).target_elem=u.get(0).target_elem=m.get(0).target_elem=e,u&&m&&h&&f&&(u.show(),m.show(),h.show(),f.show()))}},l.remove=function(){u&&m&&h&&f&&(u.hide(),m.hide(),h.hide(),f.hide())},l.BORDER_CLASS=t,l),P=document.createElement("a"),S=function(e){var t=document.createElement("div"),n=window.getComputedStyle(e);t.style.height=n.height,t.style.width=n.width,t.style.position=n.position,t.style.top=n.top,t.style.bottom=n.bottom,t.style.left=n.left,t.style.right=n.right,t.className+=a+" "+g;var o=document.createElement("div");o.className+=a+"-icon "+g;var r,i=document.createElement("div");return i.textContent=(r=e.src)?(P.href=r,P.hostname):"",i.className+=a+"-domain "+g,o.appendChild(i),t.appendChild(o),t},D=function(){if(s){for(var e=s,t=0;t<e.length;t++){var n=e[t],o=i("#"+(a+t)).get(0);if(o){var r=o.parentNode;r&&r.replaceChild(n,o)}}s=null}},A=function(e){n.remove(),D(),b(e)},R=function(e){if(e.stopPropagation(),y)return!0;if(this==document.body||this==document.body.parentNode)return!1;var t=function(e){if(i(e).hasClass(d)||i(e).hasClass(c))return e;for(;e.parentNode&&(e=e.parentNode);)if(-1==o.indexOf(e)&&(i(e).hasClass(d)||i(e).hasClass(c)))return e;return null}(this);return null!=t&&t!=this?n.add(t):n.add(this),!1},H=function(){return!!y||(this==document.body||this==document.body.parentNode||n.remove(),!1)},x=function(e){if(i(e.target).hasClass(g))return!1;if(e.preventDefault(),e.stopImmediatePropagation(),y)return!0;var t=e.target;return i(t).hasClass(n.BORDER_CLASS)&&(t=t.target_elem||t),t!=document.body&&t!=document.body.parentNode?(w(t),n.remove(),b(t),!1):void 0},B=function(){return 0<L&&(L--,!0)},W=function(e){return e.stopPropagation(),!!B()||(function(e){e.preventDefault(),e.stopImmediatePropagation(),R.call(this,e),x.call(this,e)}.call(this,e),!1)},j=function(e){return e.stopPropagation(),!1},O=function(){return L=2,!0},z=function(){return L=1,!0},I=function(){!function(){for(var e=s=i("iframe:not(."+g+"),embed,object").filter(function(e){var t="none"!=e.style.display,n=0!=e.offsetWidth&&0!=e.offsetHeight;return t&&n}),r=0;r<e.length;r++)!function(t){var e=S(t),n=a+r;e.setAttribute("id",n);var o=t.parentNode;o&&(o.replaceChild(e,t),E?(i(e).on("gestureend",O),i(e).on("touchmove",z),i(e).on("touchend",function(e){if(e.preventDefault(),B())return!0;A(t)})):i("#"+n).on("click",function(e){e.preventDefault(),A(t)}))}(e[r])}();var e=i("body *:not(."+g+")");E?e.forEach(function(e){e.addEventListener("gestureend",O),e.addEventListener("touchmove",z),e.addEventListener("touchend",W,!0),e.addEventListener("touchstart",j)}):e.forEach(function(e){e.addEventListener("mouseover",R),e.addEventListener("mouseout",H),e.addEventListener("click",x,!0)})},Y=function(){D();var e=i("body *");E?e.forEach(function(e){e.removeEventListener("gestureend",O),e.removeEventListener("touchmove",z),e.removeEventListener("touchend",W,!0),e.removeEventListener("touchstart",j)}):e.forEach(function(e){e.removeEventListener("mouseover",R),e.removeEventListener("mouseout",H),e.removeEventListener("click",x,!0)})};return n=k,e.init=function(e,t){b=e,t&&"object"==typeof t&&(n=t),o=["html","body","head","base"].map(function(e){return i(e).get(0)}),r=new DomPredictionHelper(i,String),n.init(),I(),y=!1},e.reset=function(){p=[],C=[],N(c),N(v),n.remove(),N(d)},e.close=function(){y=!0,n.finalize(),Y()},e.selectElement=function(e){Y(),n.add(e),y=!0},e.ignoreClassName=function(){return g},e}(YiclearSelectorLib||{},balalaika);