!function(){if(document instanceof HTMLDocument){document.addEventListener("click",function(t){if(2!==t.button){for(var e=t.target;e&&!(e instanceof HTMLAnchorElement);)e=e.parentNode;if(e){if("http:"===e.protocol||"https:"===e.protocol){if("subscribe.adblockplus.org"!==e.host||"/"!==e.pathname)return}else if(!/^abp:\/*subscribe\/*\?/i.test(e.href))return;var r;if(t.preventDefault(),t.stopPropagation(),e.search)r=e.search.substring(1).split("&");else{var n=e.href,i=n.indexOf("?");r=n.substring(i+1).split("&")}var o,l=function(t){for(var e=null,r=null,n=0;n<t.length;n++){var i=t[n].split("=",2);if(2===i.length)switch(i[0]){case"title":e=decodeURIComponent(i[1]);break;case"location":r=decodeURIComponent(i[1])}}return{title:e,url:r}}(r),a=l.url,s=l.title||a;a&&(o=s.trim(),confirm("你确定需要添加"+o+"订阅组？")&&contentPage.sendMessage({type:"addfilterUrl1",url:a.trim(),title:s.trim()},function(t){t.filterId?alert("订阅组添加成功！"):alert(t)}))}}})}}();