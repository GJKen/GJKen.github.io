!function(p,e){var s=window;p("#default").addClass("menu-item-active"),p("#options-filters").addClass("active"),p(".menu-item").click(function(){p(".menu-item").removeClass("menu-item-active"),p(".tab-panel").removeClass("active"),p(this).addClass("menu-item-active");var e=p(this).attr("aria-controls");p("#"+e).addClass("active")}),s.yi_timeHandle=[],s.progressUI=function(e,t){if(t){var a=10;p("#progress"+e).width(10),p("#progress"+e).show(),s.yi_timeHandle[e]=setInterval(function(){p("#progress"+e).width(a+"%"),50<++a&&clearInterval(s.yi_timeHandle[e])}.bind(this),100)}else{clearInterval(s.yi_timeHandle[e]);a=50;s.yi_timeHandle[e]=setInterval(function(){p("#progress"+e).width(a+"%"),100<++a&&(clearInterval(s.yi_timeHandle[e]),p("#progress"+e).hide())}.bind(this),10)}},s.filters_template=function(t,e,a,s,i){var n=p("<div class='block row' id='filters-"+t+"'></div>"),l=p("<div class='col-xs-4'></div>").text(e),r=p("<div class='col-xs-4'></div>").text("["+new Date(a).Format("yyyy-MM-dd hh:mm:ss")+"]规则数:"+s),o=p("<div class='col-xs-3'></div>"),d=p("<div class='btn-group' role='group' aria-label='yifilters'></div>"),c=p("<div class='progress' id='progress"+t+"' ></div>");return contentPage.sendMessage({type:"isFilterEnabled",filterId:t},function(e){e.isEnabled?d.append("<a aria-controls='"+t+"' class='button button-small button-red'>停止</a>"):d.append("<a aria-controls='"+t+"' class='button button-small'>启动</a>"),d.append("<a aria-controls='"+t+"' class='button-link'>更新</a>"),d.append("<a aria-controls='"+t+"' class='button-link-red'>删除</a>"),d.append("<a aria-controls='"+t+"' class='button-link'>备注</a>"),111!==t&&d.append("<a aria-controls='"+t+"' aria-label='"+i+"' class='button-link'>地址</a>"),o.append(d),n.append(l),n.append(r),n.append(o),n.append(c)}),n},s.Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var a in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[a]:("00"+t[a]).substr((""+t[a]).length)));return e}}($);